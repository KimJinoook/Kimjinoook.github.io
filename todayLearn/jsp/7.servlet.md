# 서블릿
## 1. 서블릿의 동작 원리
- 서블릿
  - 자바의 클래스 중 오직 서버에서만 해석되어 실행되는 클래스
  - 서블릿 규약에 따라 만든 클래스
- 서블릿 생성
  - 서블릿 API 이용
  - 패키지 이용
    - javax.servlet
      - 프로토콜에 독립적인 서블릿을 만들기 위한 클래스
    - javax.servlet.http
      - http 프로토콜의 고유 기능 (get, post 등) 을 제공하는 서블릿을 만들기 위한 클래스
- 서블릿 구현
  - GenericSevlet 이나 HTTPServlet 중 하나를 상속받아 구현
  - main()메서드가 없다
  - 서블릿의 특정 메서드는 웹 컨테이너(서버)가 호출한다
  - 서버가 서블릿에 요청을 전달할 때마다 서블릿의 **service()** 메서드 호출
  - GenericServlet
    - 요청을 처리하기 위해 자신의 service() 메서드를 오버라이드해야한다
    - service()메서드
      - 두 개의 매개변수(request, response)
  - HttpServlet
    - doGet(), doPost() 메서드를 오버라이드한다   

## 2. 서블릿 작성
- 서블릿 이용 개발 과정
  - 서블릿 소스코드를 저장할 디렉토리 생성
  - 클래스 파일을 저장할 WEB-INF\\classes 디렉토리 생성
  - CLASSPATH 환경변수 설정
    - 톸캣설치지렉토리\\lib\\servlet-api.jar
  - 서블릿 소스코드 작성
  - 소스코드 컴파일 후 생성된 클래스 파일을 classes 디렉토리에 복사
  - web.xml 파일에 서블릿 정보 설정
  - 웹컨테이너 시작
  - 웹브라우저 테스트   

```java
package com.mystudy.serv;

import java.io.IOException;
import java.io.PrintWriter;
import java.util.Date;
import javax.servlet.ServletException;
import javax.servlet.http.HttpServlet;
import javax.servlet.http.HttpServletRequest;
import javax.servlet.http.HttpServletResponse;
import javax.servlet.annotation.WebServlet;


@WebServlet("/NowServ")
public class NowServlet extends HttpServlet {
	
	@Override
	protected void doGet(HttpServletRequest request, HttpServletResponse response) throws ServletException, IOException {
		response.setContentType("text/html; charset=utf-8");
		Date now = new Date();
		PrintWriter writer = response.getWriter();
		writer.println("<html>");
		writer.println("<head><title>현재 시간</title></head>");
		writer.println("<body>");
		writer.println("<b>현재 날짜는:</b>");
		writer.println(now.toString());
		writer.println("<hr></body>");
		writer.println("</html>");
		writer.close();
	}
}
```
