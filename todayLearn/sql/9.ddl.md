# 데이터 정의어 / DDL
## 1. ddl
- 오라클
  - 데이터를 저장하고 관리해주는 프로그램
  - 관리를 위해 다양한 저장객체 (오브젝트)를 생성
- ddl
  - 오브젝트를 생성,변경,관리하는 명령어
- create
  - 새로운 오브젝트나 스키마를 생성
  - 데이터 베이스 객체들을 생성
  > create 객체종류 객체명..   

- drop
  - 객체들을 삭제할 때 사용
  - delete : 테이블 상의 데이터를 삭제
  - drop : 객체 자체를 데이터베이스에서 영구히 삭제
  > drop 객체종류 객체명..   

- alter
  - 기존 생성된 객체를 변경할 때 사용
  - 테이블 사용중 컬럼을 추가하는 등
  > alter 객체종류 객체명..   

- truncate
  - delete문과 동일한 역할
  - rollback으로 복구 불가 (자동 commit)
  - delete보다 수행속도가 빠르다
  - delete
    - 메모리 상에 존재하는 테이블의 데이터만 삭제
    - 디스크 상의 공간은 그대로 가지고 있다
  - truncate
    - 메모리,데이터파일의 데이터 삭제, 테이블 구조는 보존
    - 최초에 테이블이 만들어졌던 상태로  
  - drop
    - 테이블 구조까지 소멸
  > truncate table 테이블명...   


***

## 2. Create
```sql
create table 테이블명
(
  컬럼1 데이터타입,
  컬럼2 데이터타입,
  ...
)
tablespace 테이블스페이스명;
```

- 테이블이름 : 최대 30byte
- 컬럼명,스키마,사용자이름 : 30byte
- 최대 255개의 컬럼
- 컬럼의 데이터 타입
  - 문자형 데이터
    - char : 고정길이의 문자형데이터, 최대 2000byte
    - varchar2 : 가변길이의 문자형데이터, 최대 4000byte
    - clob : 문자열이나 문서 저장가능, 최대 4gb까지 저장
  - 숫자형 데이터
    - number : 가변숫자타입, 21byte
  - 날짜형 데이터
    - date : 고정길이의 데이터, 7byte   

- 문자형데이터 확인  

```sql
create table char_exam1
(
    name1 char(3), --고정길이 3byte
    name2 varchar2(3) -- 가변길이 3byte
);


insert into char_exam1
values('AA','AA');

select name1, name2, length(name1), length(name2),
    replace(name1, ' ','*'), replace(name2,' ', '*') from char_exam1;
    
NAM NAM LENGTH(NAME1) LENGTH(NAME2) REP REP
--- --- ------------- ------------- --- ---
AA  AA              3             2 AA* AA
```

```sql
create table char_exam1
(
    name1 char(3), --생략하면 byte
    name2 varchar2(3),
    name3 char(6 byte),
    name4 char(6 char),
    name5 char(6), --6byte
    name6 clob --4gb까지 저장
);

insert into char_exam1(name1,name2,name3,name4,name5,name6)
values('AAA','가','ABCDEF','ABCDEFG','AB',null);  --error
--name4가 6개 문자만 입력 가능하므로 에러

insert into char_exam1(name1,name2,name3,name4,name5,name6)
values('AAA','가','ABCDEF','가나다라마바','가나',null);
--인코딩에 따라 한글 1글자는 2바이트나 3바이트
--UTF-8 : 한글 1글자가 3바이트

insert into char_exam1(name1,name2,name3,name4,name5,name6)
values('AAA','가','ABCDEF','가나다라마바','가나다',null); --error
--name5는 6바이트이므로 한글 2글자만 입력 가능

insert into char_exam1(name1,name3,name6)
values('ABC','ABCDEF','ABCdefg가나다 clob 연습!!');
```

- 숫자형 데이터 확인   

```sql
create table num_exam1
(
    n1 number,
    n2 number(9), --전체 9자리 수까지 표현 가능
    n3 number(9,2), --전체 9자리수중 소수이하 2자리까지 표현
                    -- 소수3째자리에서 반올림
    n4 number(9,1),
    n5 number(7), --전체 7자리 수 표현, 소수이하 자리수는 표현하지 않음
    n6 number(7,-2), --7자리 표현, 10의 자리에서 반올림
    n7 number(6), --전체 6자리수 표현
    n8 number(3,5) --1보다 작은 실수 표현, 소수이하 5자리중 0이 두개 붙는다
    
);


insert into num_exam1(n1,n2,n3,n4,n5,n6)
values(1234567.89, 1234567.89,1234567.89,1234567.89,1234567.89,1234567.89);

insert into num_exam1(n1,n2,n3,n4,n5,n6,n7)
values(1234567.89, 1234567.89,1234567.89,1234567.89,1234567.89,1234567.89,1234567.89);
--n7은 전체 자리수 6개만 가능, 7개를 입력해서 에러

insert into num_exam1(n8)
values(0.00123);

insert into num_exam1(n8)
values(0.01234);  --error

insert into num_exam1(n8)
values(0.0012);

insert into num_exam1(n8)
values(0.000123);

        N1         N2         N3         N4         N5         N6         N7         N8
---------- ---------- ---------- ---------- ---------- ---------- ---------- ----------
1234567.89    1234568 1234567.89  1234567.9    1234568    1234600                      
1234567.89    1234568 1234567.89  1234567.9    1234568    1234600                      
                                                                                 .00123
                                                                                  .0012
                                                                                 .00012
```
