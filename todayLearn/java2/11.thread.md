# 프로세스와 쓰레드
## 1. 쓰레드란
- 할당된 메모리공간을 기반으로 실행중에 있는 프로그램
- 프로그램을 실행하면 os로부터 메모리를 할당받아 프로세스가 된다
- 프로그램을 수행하는데 필요한 데이터와 메모리등의 자원과 쓰레드로 구성
- 쓰레드
  - 프로세스 내에서 실제로 작업을 수행
  - 별도의 실행흐름
  - 모든 프로세스에는 최소 하나 이상의 쓰레드가 존재
  - 둘 이상의 쓰레드를 가진 프로세스 : 멀티쓰레드 프로세스
- 멀티 태스킹
  - 여러 개의 프로세스가 동시에 실행되는 것처럼 보이는 것
- 멀티 쓰레딩
  - 하나의 프로세스 내에서 여러 쓰레드가 동시에 작업 수행
- 싱글 쓰레드
  - 실행 흐름이 하나밖에 없으므로 한번에 하나의 작업밖에 하지 못한다
- 멀티 쓰레드
  - 하나의 응용프로그램에 두개 이상의 쓰레드가 동시에 실행될 수 있다
  - 두개의 작업을 병렬적으로 처리
  - 계산작업, 스풀링 등
  - 장점
    - CPU 사용률 향상
    - 자원사용 효율성
    - 사용자에 대한 응답성 향상
    - 작업이 분리되어 코드가 간결
  - 단점
    - 여러 쓰레드가 같은 프로세스 내에서 자원 공유
      - 동기화, 교착상태 문제 고려
      - (두 쓰레드가 같은 자원을 사용하려 기다리느라 진행이 멈춘 상태)   

```java
public class ThreadMain {

	public static void main(String[] args) {
		System.out.println("main메서드");
		Thread th = Thread.currentThread();
		System.out.println("현재 실행중인 스레드 : "+ th.getName());
		
		int cnt = Thread.activeCount();
		System.out.println("실행중인 스레드 개수 : "+ cnt);
		
		Thread.currentThread().setName("Prime");
		System.out.println("변경된 스레드 이름 : "+Thread.currentThread().getName());

	}

}
/*
main메서드
현재 실행중인 스레드 : main
실행중인 스레드 개수 : 1
변경된 스레드 이름 : Prime
*/
```
***

## 2. 쓰레드의 구현과 실행
- Thread클래스 상속   
```java
class ThreadTest extends Thread{
  public void run(){
    작업내용
  }
}
```   
> ThreadTest t = new ThreadTest();   
> t.start();


- Runnable 인터페이스 구현
  - 스레드 클레스가 상속해야할 또 다른 클래스가 존재하는 경우 사용   

```java
class ThreadTest implements Runnable{
  public void run(){
    작업내용
  }
}
```   
> ThreadTest r = new ThreadTest();   
> Thread t = new Thread(r);   
> t.start();   

```java
package com.thread.day1;

public class ThreadTest1 {

	public static void main(String[] args) {
		MyThread1 th1 = new MyThread1("상속스레드");
		MyRunnable1 r = new MyRunnable1();
		Thread th2 = new Thread(r);
		th2.setName("구현스레드");
		
		th1.start();
		th2.start();
		
		System.out.println("main스레드 종료");

	}

}

class MyThread1 extends Thread{
	MyThread1(String name){
		super(name);
	}

	public void run() {
		for (int i = 0; i<5 ; i++) {
			System.out.println(Thread.currentThread().getName());
		}
	}
}


class MyRunnable1 implements Runnable{
	public void run() {
		for (int i = 0; i<5 ; i++) {
			System.out.println(Thread.currentThread().getName());
		}
	}
}
/*
main스레드 종료
상속스레드
상속스레드
상속스레드
상속스레드
상속스레드
구현스레드
구현스레드
구현스레드
구현스레드
구현스레드
*/
```
