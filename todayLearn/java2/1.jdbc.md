# JDBC
- 자바 프로그램과 데이터베이스를 연결하는 프로그래밍 방식
- java.sql
- java프로그램은 JDBC를 통해 데이터베이스에 연결
  - 데이터를 검색, 입력, 수정, 삭제 가능
- 드라이버 설치(ojdbc8.jar)
  - C:\app\Administrator\product\18.0.0\dbhomeXE\jdbc\lib\ojdbc8.jar 복사
  - c:\java\jdk1.8.0_65\jre\lib\ext 붙여넣기
    - 외부 jar 저장 경로
- 환경변수
  - classpath
    - C:\Java\jdk1.8.0_321\jre\lib\ext\ojdbc8.jar 추가
    - 추가 후
      - %classpath%;.;C:\Java\jdk1.8.0_321\jre\lib\ext\ojdbc8.jar
- 이클립스 사용 시
  - build path 라이브러리에 ojdbc8.jar 추가
![buildpath1](https://user-images.githubusercontent.com/99188096/160969575-38e10e38-5998-4fd9-806e-4d5bb0682358.jpg)   

- 설정 정보확인
  - 오라클 host명 확인
  - C:\app\EZEN\product\18.0.0\dbhomeXE\network\admin\tnsnames.ora
  - ![tnsname](https://user-images.githubusercontent.com/99188096/160970788-39baeb57-bef6-429f-a408-df815830c304.PNG)

  - C:\app\EZEN\product\18.0.0\dbhomeXE\network\admin\listener.ora
  - ![listener](https://user-images.githubusercontent.com/99188096/160970937-94099905-8703-4dbb-a03a-9c0b53f24495.PNG)
  - 자바 소스에서 호스트명을 일치시켜야 한다   
  > String url = "jdbc:oracle:thin:@\<HOST\>:\<PORT\>:\<SID\>"   


## 1. jdbc 프로그래밍 순서
- 데이터베이스와 연결하는 드라이버 클래스 찾기
  -  Class.forName("oracle.jdbc.driver.OracleDriver");
- 드라이버 클래스를 통해 데이터베이스 서버와 연결하는 connection 객체 생성
  - String url="jdbc:oracle:thin:@localhost:1521:xe";
  - String id="hr", pwd="hr123";
  - Connection con = DriverManager.getConnection(url, id, pwd);
- 작업을 처리할 statement, preparedStatement, CallableStatement객체 생성
  - Statement stmt = con.createStatement();
  - 또는 PreparedStatement pstmt = con.prepareStatement("쿼리문")
- Statement, PreparedStatement를 통해 쿼리문 전송
  - insert,update,delete 문인 경우
    - int cnt = stmt.exeuteUpdate()
  - select문인 경우
    - resultSet rs = stmt.executeQuery()
    - resultSet의 논리적 커러슬 이동시키며 각 컬럼의 데이터를 꺼내온다
    - bollean b = rs.next()
      - 커서 이동, 커서가 위치한 지점에 레코드가 있으면 true
    - 커서는 맨 처음에 첫 번째 행의 직전에 위치하고 있다가 next()호출시 다음 행 이동
- ResultSet 객체를 통한 쿼리결과 처리
- 접속 종료
  - rs.close(); stmt.close(); con.close();
  - null 체크해서 close(), finally블럭에서 구현

