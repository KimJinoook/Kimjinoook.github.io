# 스프링의 MVC
## 스프링의 주요 구성요소
- DispatcherServlet
  - 클라이언트의 요청을 전달
  - 컨트롤러에게 클라이언트의 요청을 전달
  - 컨트롤러가 리턴한 결과값을 view에게 전달
- HandlerMapping
  - 클라이언트의 요청 URL을 어떤 컨트롤러가 처리할지 결정
- Controller
  - 클라이언트의 요청을 처리
  - 결과를 DispatcherServlet에 전달
- ModelAndView
  - 컨트롤러가 처리한 결과 정보 및 뷰 선택에 필요한 정보를 담는다
- ViewResolver
  - 컨트롤러의 처리 결과를 생성할 뷰를 결정
- View
  - 컨트롤러의 처리결과 화면을 생성. JSP 등   

***
## 처리 흐름
- 클라이언트의 요청이 DispatcherServlet에 전달
- DispatcherServlet은 HandlerMapping을 사용하여 요청을 처리할 컨트롤러 객체를 구함
- DispatcherServlet은 컨트롤러 객체를 이용해 클라이언트 요청 처리
- 컨트롤러는 클라이언트의 요청 처리결과 정보를 담은 ModelAndView 객체 리턴
- DispatcherServlet은 ViewResolver로부터 응답결과를 생성할 뷰 객체를 구함
- 뷰는 클라이언트에 전송할 응답을 생성   
> 개발자는 컨트롤러와 뷰를 개발   
> 나머지는 스프링이 기본적으로 제공하는 구현클래스 사용   

***
## SpringMVC 적용 절차
- web.xml 파일에 DispatcherServlet 등록
- 클라이언트의 요청에 대한 Controller 작성
- Spring 설정파일에 HandlerMapping, Controller, ViewResolver 등록   

### Web.xml
- web.xml 파일에 DispatcherServlet 등록   
```html
<?xml version="1.0" encoding="UTF-8"?>
<web-app ...>
  <display-name>SpringMVC</display-name>
  <servlet>
    <servlet-name>dispatcher</servlet-name>
    <servlet-class>
      org.springframework.web.servlet.DispatcherServlet
    </servlet-class>
  </servlet>
  <servlet-mapping>
    <servlet-name>dispatcher</servlet-name>
    <url-pattern>*.do</url-pattern>
  </servlet-mapping>
</web-app>

```

- web.xml파일에 SpringMVC 설정파일 등록   
```html
<?xml version="1.0" encoding="UTF-8"?>
<web-app ...>
  
  <display-name>SpringMVC</display-name>

  <servlet>
    <servlet-name>dispatcher</servlet-name>
    <servlet-class>
      org.springframework.web.servlet.DispatcherServlet
    </servlet-class>
    <init-param>
      <param-name>contextConfigLocation</param-name>
      <param-value>/config/presentation/spring-mvc.xml</param-value>
    </init-param>
  </servlet>

  <servlet-mapping>
    <servlet-name>dispatcher</servlet-name>
    <url-pattern>*.do</url-pattern>
  </servlet-mapping>
  
</web-app>
```
- web.xml 파일에 인코딩 설정   
```html
<?xml version="1.0" encoding="UTF-8"?>
<web-app ...>
  <display-name>SpringMVC</display-name>
  
  <filter>
    <filter-name>Encoding Filter</filter-name>
    <filter-class>
      org.springframework.web.filter.CharacterEncodingFilter
    </filter-class>
    <init-param>
      <param-name>encoding</param-name>
      <param-value>utf-8</param-value>
    </init-param>
  </filter>
  <filter-mapping>
    <filter-name>Encoding Filter</filter-name>
    <url-pattern>/*</url-pattern>
  </filter-mapping> 
</web-app>
```

### 
